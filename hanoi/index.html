<link rel="stylesheet" href="hanoi.css">
<html>

<body style="background-color: dimgray;">
    <table class="game">
        <tr>
            <td class="tower" data-i="0">
            </td>
            <td class="tower" data-i="1">
            </td>
            <td class="tower" data-i="2">
            </td>
        </tr>
    </table>
</body>

</html>
<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
<script type="text/javascript" src="hanoi.js"></script>
<script>
    $(function () {
        n = 5;
        mode = 0;
        moves = 0;
        const params = new URLSearchParams(window.location.search);
        if (params.has('n')) {
            n = params.get('n');
        }
        if (params.has('mode')) {
            mode = params.get('mode');
        }
        init(parseInt(n));
        //dump();
        $('.tower').on('touchstart mousedown', function (e) {
            act(parseInt($(this).attr('data-i')));
            e.preventDefault();
            dump();
        })
        $(document).on('keydown', function (e) {
            i = [37, 40, 39].indexOf(e.keyCode);
            if (i == -1) i = [74, 75, 76].indexOf(e.keyCode);
            if (i != -1) act(i);
        });

    });
</script>